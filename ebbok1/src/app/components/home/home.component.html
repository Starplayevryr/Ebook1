<app-navigate></app-navigate>

<ng-container *ngIf="isLoggedIn; else loginPrompt">
  <mat-card class="welcome-card">
    <mat-card-header>
      <mat-card-title>
        <h2>{{ message }}</h2>
      </mat-card-title>
    </mat-card-header>
  </mat-card>

  <div class="blog-container">
    <h3>Latest Blog Posts</h3>
    <div *ngFor="let blog of blogs" class="blog-post">
      <mat-card class="blog-card">
        <mat-card-header>
          <mat-card-title>{{ blog.title }}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p>{{ blog.description }}</p>
          
          <!-- Image displayed below the description -->
          <img [src]="'http://localhost:5000/' + blog.image" alt="{{ blog.title }}" class="blog-image" />

          <!-- Name of the user who posted it, displayed below the image -->
          <p>Posted by: {{ blog.username }}</p>
          
          <p class="timestamp">{{ blog.createdAt | date:'medium' }}</p>
        </mat-card-content>
        <mat-card-footer>
          <p>Tags: {{ blog.tags.join(', ') }}</p>
        </mat-card-footer>
      </mat-card>
    </div>
  </div>
</ng-container>

<ng-template #loginPrompt>
  <mat-card class="message-card">
    <mat-card-header>
        
      <mat-card-title><h2> 
        Welcome to eBook Hub!  </h2></mat-card-title>
    </mat-card-header>
    <mat-card-content class="card-content">
      <p>{{ message }}</p>
      <p>Please log in to access more features.</p>
      <p class="call-to-action">Join us now and dive into a world of stories!</p>
    </mat-card-content>
  </mat-card>

  <div class="full-width-image-container">
    <img src="/images/home.jpg" class="full-width-image" alt="Home Image" width="100%" height="200px" />
  </div>
</ng-template>
